---
title: '\singlespacing Planes, Trains, and Armored Mobiles: Introducing a Dataset of the Global Distribution of Military Capabilities (rDMC)'
author:
  - name: J Andr√©s Gannon
    email: "andres.gannon@gmail.com"
    url: jandresgannon.com
    affiliation: Council on Foreign Relations
date: "`r format(Sys.Date(), '%B %d, %Y')`"
format:
  pdf:
    fig-format: png
    thanks: All data and code are publicly available at https://www.militarycapabilities.com/
    number-sections: true
    fontsize: "12"
execute:
  echo: false
  warning: false
  cache: true
abstract: \singlespacing \noindent This article introduces a dataset on disaggregated national military capabilities from 1970 -- 2014 drawn from the International Institute for Strategic Studies Military Balance. While practitioners have long recognized the importance of what weapons states own, scholars have largely examined surrounding questions in piecemeal fashion due to data limitations. The Distribution of Military Capabilities (rDMC) dataset identifies the weapons portfolios of states over the past half century at various levels of aggregation suitable to a wide variety of research questions. This paper begins by explaining the value of data on disaggregated national military capabilities, the data's scope, and the data collection process including the creation of a new modular typology of weapons categories consistent across time and space. I then identify some initial trends about changes in the distribution of military capabilities and its implications for China's military rise. These data allows scholars to better investigate important questions concerning power projection, military innovation, conflict outcomes, use of force decisions, and interest group lobbying.
header-includes:
- \usepackage{tikz}
- \usepackage{pgfplots}
- \pgfplotsset{compat=newest}
- \usetikzlibrary{plotmarks}
- \usetikzlibrary{arrows.meta}
- \usepgfplotslibrary{patchplots}
- \usepackage{grffile}
- \usepackage{caption}
- \usepackage[utf8]{inputenc}
- \usepackage[doublespacing]{setspace}
- \usepackage{float}
- \usepackage{multirow}
- \renewcommand{\topfraction}{.85}
- \renewcommand{\bottomfraction}{.7}
- \renewcommand{\textfraction}{.15}
- \renewcommand{\floatpagefraction}{.66}
- \setcounter{topnumber}{3}
- \setcounter{bottomnumber}{3}
- \setcounter{totalnumber}{4}
bibliography: rDMC-bib.bib
---

```{r knitr_options, echo = FALSE, warning = FALSE, cache = FALSE, message = FALSE}
# added to indicate that the home folder is the repo folder
library(knitr)
library(magrittr)
library(ggplot2)
library(ggtext)
library(ggrepel)
knitr::opts_knit$set(root.dir = normalizePath(here::here()))
knitr::opts_chunk$set(echo = FALSE, 
                      warning = FALSE, 
                      error = FALSE, 
                      message = FALSE, 
                      fig.path = "figures/")
```

```{r load data}
rdmc_raw <- readRDS(file = paste0(here::here(), "/data/rDMC_raw_v1.rds"))
rdmc_long <- readRDS(file = paste0(here::here(), "/data/rDMC_long_v1.rds"))
rdmc_wide <- readRDS(file = paste0(here::here(), "/data/rDMC_wide_v1.rds"))
```

\newpage

# Introduction {#sec-introduction}

The military capabilities states possess are an important instrument of military power, and consequently national power. Yet existing work on how states exercise military power are limited in empirical identification to coarse measures like military spending or military personnel. Not all soldiers are created equal, and much has been said about the problems of measuring military power using military spending figures or aggregate measures like the Composite Index of National Capabilities (CINC) [@beckley_powernationsmeasuring_2018; @carroll_predictionproxiespower_2019]. I define military capabilities as the technologies and weapons that states can use in combat operations. While military capabilities are but one of only many components of military power, its effects are significant, if hotly debated [@lieber_warengineersprimacy_2005; @brooks_creatingmilitarypower_2007]. Inconsistent findings about the role of capabilities in conflict stem not from the fact that they do not matter, but rather they have been improperly identified and coarsely measured.

This paper contributes to ongoing research about the technological dimension of military power by producing the first comprehensive and structured dataset of the distribution of military capabilities across all states from 1970 -- 2014 by cleaning and structuring the annual IISS Military Balance in a machine-readable format and creating a new typology of military capabilities that makes comparison across time and space possible. Disaggregating military power into its component parts is an important, yet underdeveloped, enterprise. While aggregate military spending may help differentiate large and globally capably militaries from smaller ones, it risks conflating differences in the *composition* of nominally equivalently sized militaries. The composition of a state's military may influence its power projection and warfighting capabilities in some conflicts, but not others [@gartzke_influenceseapower_2020], and the relationship between the military capabilities a country could acquire, actually possesses, and subsequently uses in a contest could shed light on contrasting findings about the impact of military capabilities on international affairs [@douglass_churningbutterguns_2019].

This paper proceeds as follows. @sec-the-case-for-disaggregating-defense identifies the role that military capabilities play as both a dependent and independent variable in the study of international politics. @sec-existing-measures-of-military-capabilities outlines existing empirical work on the military capabilities states possess. @sec-the-rdmc-dataset-scope-and-data-generating-process outlines the scope of the Distribution of Military Capabilities (rDMC) dataset and @sec-data-collection-and-formats briefly describes the data collection process, which consistent of structuring, cleaning, and re-categorizing the existing Military Balance data to make both quantitative and qualitative comparison and analysis possible. @sec-global-trends identifies some initial trends in variation in the distribution of military capabilities across time and space and replicates and extends existing findings on the US-China balance of military capabilities. @sec-conclusion concludes.

# The case for disaggregating defense {#sec-the-case-for-disaggregating-defense}

One of the most political aspects of international security for policymakers concerns what military capabilities a state should possess. What a states produces and omits in its defense portfolio reflects its political priorities in ways that economic considerations alone cannot explain [@caverley_unitedstateshegemony_2007]. As then-Senator Joseph @biden_bidenremarksmccain_2008 remarked regarding domestic economic policy during his vice presidential campaign, "\[d\]on't tell me what you value. Show me your budget, and I'll tell you what you value." This also holds true in the military context, where disconnects concerning a state's budget and alleged priorities are missed by scholars looking at top-line spending figures. Despite decades of concern about a Chinese invasion of Taiwan, it was not until 2017 that China began investing in the amphibious assault capabilities that are necessary for that threat to actually be carried out [@officeofthesecretaryofdefense_militarysecuritydevelopments_2018, 95-99]. This important fact was missed by many who looked only at the size of China's defense budget, rather than what capabilities they actually possessed.

The wide body of literature studying war has recognized that international affairs is influenced by *how* states fight [@gannon_oneifland_2022]. The United States' decision to adopt a more capital-intensive military concentrated in a few high-value weapons may explain its relatively infrequent uses of force, given its high military spending [@fordham_verysharpsword_2004], while states with combined arms militaries are able to end civil conflicts more rapidly [@caverley_militarytechnologyduration_2017]. Looking at specific military domains, states with capable navies fight wars further from their borders [@crisher_navalpowerendogeneity_2017] while those conducting aerial mobilizations fail at demonstrating resolve [@post_flyingfailcostly_2019]. Concerning intrastate conflict, access to armored fighting vehicles helped the Yemeni Army secure the capital during the 1962 coup [@albrecht_howkeepofficers_2018, p 319] and well-resourced armies are better able to negotiate with their civilian counterparts in a way that shapes civil-military relations [@kadercan_strongarmiesslow_2014]. More recently, the increasing interest in multi-domain warfare demonstrates that among practitioners and academics alike, there is a recognition that the various tools of warfare - and the domains in which they operate - serve different ends and come with distinct advantages and disadvantages [@tan_multidomainbattle_2017; @perkins_multidomainbattledriving_2017; @kreps_escalationfirebreakscyber_2019; @lindsay_crossdomaindeterrencestrategy_2019].

Domestically, the portfolio of military capabilities also informs questions outside the traditional scope of international security. Tension between political budget constraints and military security desires gets to the heart of the role that military capabilities play in furthering our understanding of domestic politics [@cappellazielinski_howstatespay_2016]. Partisan politics is intricately tied to the composition of a state's military, as the Cold War witnessed a preference among Republican US presidents for funding strategic forces while Democratic presidents preferred funding conventional forces [@fordham_domesticpoliticsinternational_2002]. In the 1960's, the US developed the F-111 fighter-bomber and C-5A jumbo transport aircraft to keep production lines for the four major aerospace corporations funded, demonstrating how patterns of weapons acquisition can tell us about the role of domestic industry in national security decisions [@kurth_politicaleconomyweapons_1972].

# Existing measures of military capabilities {#sec-existing-measures-of-military-capabilities}

The combination of capabilities that comprise a military's toolkit determine the operations it undertakes, the types of threats it can credibly make, and the consequences of resorting to force. Military means likely matter, but proving that they do (and if so, the degree and circumstance) is an impossible endeavor without empirical data on the distribution of those means across time and space.

Despite the importance of disaggregated military capabilities and a recognition of the shortcomings of aggregate measures for explaining concepts of interest, most current research uses measures only of the *size* of state militaries [@ward_sizingpeacedividend_1992; @sample_outcomesmilitarybuildups_2002; @nordhaus_effectsinternationalsecurity_2012; @cappellazielinski_whatgoesmust_2017; @alley_budgetbreakerfinancial_2021].[^1] National militaries are primarily quantified and compared by military spending levels or, in rarer cases, military personnel counts. Yet, defense dollars don't tell us what capabilities a state can actually use during a conflict. Despite its frequent use, data on military spending also poses known problems for quantitative cross-national and temporal comparison [@perlo-freeman_monitoringmilitaryexpenditure_2017]. Since there are no common definitions about what constitutes military spending, some states measure things like pension and R&D while others do not [@amara_unfulfilledpromisesimpact_2010]. Exchange rates are often used to standardize all spending to the same currency, but with ill-information applications of domestic purchasing power, inflation, and budget cycles [@lebovic_usingmilitaryspending_1999]. The IMF, UN Office for Disarmament Affairs, US Bureau of Arms Control, Verification, and Compliance, International Institute for Strategic Studies (IISS), and Stockholm International Peace Research Institute (SIPRI) all produce annual military spending estimates using different estimating procedures, primary sources, and preparation methods, meaning findings from one data source are often not supported using comparable data from another source [@brzoska_reportingmilitaryexpenditures_1981]. Since the cost of military platforms has increased over time, having data on the actual platforms helps get around the problems of accounting for military "purchasing power" over time.

[^1]: Of course, these two are not synonymous. Military capabilities are only one component of military spending [@whitten_butterygunswelfare_2011].

Research on variation in the *composition* of militaries remains nascent. Scholars have noted "there is a lack of knowledge about variation between states in their behavior on armaments policy decisions" because of problems empirically identifying the military capabilities states possess [@mawdsley_armamentsdecisionmakingare_2018]. Recent works that disaggregate military capabilities have narrowed their focus to a small set of platforms like mechanized vehicles [@sechser_armyyouhave_2010], principal naval platforms [@crisher_powerseanaval_2014], or fighter jets [@saunders_commandskiesairpower_2020] or to a small set of countries like great powers [@brooks_risefallgreat_2016] or the Asia Pacific [@beckley_emergingmilitarybalance_2017]. Even the most detailed of these are selective in their disaggregation; @saunders_commandskiesairpower_2020 do not include bombers, air transport, or support aircraft, @sechser_armyyouhave_2010 omit helicopters, and @souva_materialmilitarypower_2022 aggregates to nuclear weapons, naval tonnage, air power, armor, and ballistic missiles. The primary reason for this relatively limited use of fine-grained data is difficulty in converting existing sources to an easily-usable format and standardizing it across countries and years. rDMC aims to overcome these problems to better enable systematic analysis across time, space, and military capability.

# The rDMC dataset: scope and data generating process {#sec-the-rdmc-dataset-scope-and-data-generating-process}

This paper uses the annual International Institute for Strategic Studies (IISS) Military Balance reports [-@internationalinstituteforstrategicstudies_militarybalance_] to create a structured and machine-readable dataset of disaggregated military capabilities measured as the annual count of military capabilities owned by `r scales::comma(dplyr::n_distinct(rdmc_raw$country))` countries from 1970 -- 2014. By military capabilities, I mean the weapons and equipment states can use in combat operations, excluding small arms (handguns and rifles) and munitions/bombs for which annual data is unreliable. The data were coded by 39 undergraduate coders from four universities, resulting in `r scales::comma(nrow(rdmc_raw))` unique observations. Figure \ref{fig-missingness} shows the percent of years coded for each country. 54% of countries - including the majority of great powers - have no missing years, with the median country having 95% of years available and the mean country having 88% coverage.[^2] The data and all code used to process, clean, and analyze the data are publicly available at (website redacted).

[^2]: I use percent of years since not all countries exist across the entire duration of the data. 100% of Slovenia is covered, for example, because data exists for all 22 years since since it established independence in 1991.

```{r}
#| label: fig-missingness
#| fig-cap: "Missingness map illustrating the extent of available data on state military capabilities. Almost all states have data for at least 90% of the years they were recognized state entities."
#| fig.width: 6
#| fig.height: 3.5

states <- read.csv(file = paste0(here::here(), '/inst/extdata/polities_mssl_gleditschward_states.csv')) %>%
  dplyr::filter(microstate == 0) %>%
  dplyr::select(gwcode, gw_start, gw_end)

# Make long to expand year range, since we need to match on the qcode-year combo
states$gw_start <- as.POSIXct(states$gw_start)
states$gw_end <- as.POSIXct(states$gw_end)

states$gw_start <- as.numeric(format(states$gw_start, '%Y'))
states$gw_end <- as.numeric(format(states$gw_end, '%Y'))

# Make list of years in existence from 1970-2014 from GW
states <- states %>%
  dplyr::filter(gw_end >= 1970) %>%
  dplyr::mutate(start = dplyr::if_else(gw_start <= 1970, 1970, gw_start),
                end = dplyr::if_else(gw_end < 2012, gw_end, 2014),
                years = end - start) %>%
  dplyr::select(gwcode, years)

# Make list of years coded from 1970-2014 from rDMC
map <- rdmc_raw %>%
  dplyr::filter(year >= 1970 &
                  year <= 2014) %>%
  dplyr::select(year, ccode) %>%
  dplyr::rename(gwcode = ccode) %>%
  dplyr::mutate(coded = 1,
                gwcode = as.numeric(gwcode)) %>%
  dplyr::distinct() %>%
  dplyr::group_by(gwcode) %>%
  dplyr::mutate(coverage = sum(coded) - 1) %>%
  dplyr::mutate(coverage = dplyr::if_else(is.na(coverage), 0, coverage)) %>%
  dplyr::select(gwcode, coverage) %>%
  dplyr::distinct()

coded <- dplyr::left_join(states, map) %>%
  dplyr::mutate(coded = round(coverage/years, 2)) %>%
  dplyr::mutate(coded = dplyr::if_else(coded > 1, 1, coded))

coded$cname <- countrycode::countrycode(coded$gwcode, "cown", "cowc")
coded$name <- countrycode::countrycode(coded$gwcode, "cown", "country.name")

# Fix some country names manually
coded$name[coded$name == "United States"] <- "USA"
coded$name[coded$name == "United Kingdom"] <- "UK"
coded$name[coded$name == "German Democratic Republic"] <- "Germany"
coded$name[coded$name == "Congo - Kinshasa"] <- "Democratic Republic of the Congo"
coded$name[coded$name == "Congo - Brazzaville"] <- "Republic of Congo"
coded$name[coded$name == "Czechia"] <- "Czech Republic"

coded <- coded %>%
  dplyr::mutate(category = dplyr::case_when(coded > 0 & coded < 0.75 ~ "1-74%",
                                            coded >= 0.75 & coded < 0.9 ~ "75-89%",
                                            coded >= 0.90 & coded < 1 ~ "90-99%",
                                            coded == 1 ~ "100%"))

coded$category <- as.factor(coded$category)

coded$category <- factor(coded$category, levels = c("1-74%", "75-89%", "90-99%", "100%"))
  
## Make map
WorldData <- map_data('world')

theme_map <- function(base_size = 9, base_family = "") {
  theme_bw(base_size = base_size, base_family = base_family) %+replace%
    theme(axis.line = element_blank(),
          axis.text = element_blank(),
          axis.ticks = element_blank(),
          axis.title = element_blank(),
          panel.background = element_blank(),
          panel.border = element_blank(),
          panel.grid = element_blank(),
          panel.spacing = unit(0, "lines"),
          plot.background = element_blank(),
          legend.justification = c(0, 0)#,
          #legend.position = c(1,1)
    )
  }

ggplot() +
  geom_map(data = WorldData,
           map = WorldData,
           aes(group = group,
               map_id = region),
           fill = "white",
           size = 0.35) +
  geom_map(data = coded,
           map = WorldData,
           aes(fill = category,
               map_id = name)) +
  borders("world",
          size = 0.05,
          colour = "black") +
  scale_fill_brewer(type = "div",
                    guide = "legend") +
  theme_map() +
  coord_cartesian(ylim = c(-50, 90)) +
  theme(legend.position = "bottom",
        legend.key = element_rect(fill = "white",
                                  colour = "black")) +
  labs(title = "Temporal Coverage of the Data by Country",
       fill = "Years Coded")
```

Policymakers frequently use the IISS Military Balance to guide their decisions. Throughout his career, former NATO Supreme Allied Commander Admiral Stavridis "relied extensively on The Military Balance produced so expertly by the IISS. It is the"go to" source for serious analysts and warriors facing real world challenges." Former US Army General and CIA Director Petraeus describes it as "the go-to source of unclassified, independent information on defense capabilities around the world". Similarly, former US Secretary of Defense Gates noted it "provides essential facts and analysis for decision-makers and for better informed public debate" and former US Secretary of Defense Panetta remarked it is "widely recognised as the best unclassified source of defense information on personnel, equipment and budgets for every country."[^3]

[^3]: Quotes come from [IISS Testimonials](https://www.iiss.org/publications/the-military-balance).

Practitioner praise notwithstanding, as with much data in international affairs, concerns about data quality and accuracy remain salient. The extensive use of the IISS Military Balance by policymakers as well as by other scholars gives cursory confidence in its accuracy and allows for the data codings to be validated. Most of this academic work has used IISS data on military spending [@wohlforth_stabilityunipolarworld_1999; @greenhill_perilsprofilingcivil_2007] or personnel [@stanton_terrorismcontextcivil_2013; @gaibulloev_personnelcontributionsnonun_2015]. Recent works by @brooks_risefallgreat_2016 and @caverley_militarytechnologyduration_2017 use detailed information from the Military Balance on capabilities like mechanized vehicles and power projection platforms. The accuracy of the data has also been double checked in instances with reliable government data. New Zealand, for example, publishes annual reports of their military resources [@alexander_countrysurveyxvii_2002]. Although such data has a selection bias, verifying where possible provides face validity about its accuracy.

However, being the most comprehensive data on military capabilities and from a highly reputable source does not guarantee accuracy. States themselves are uncertain about the military capabilities of others, and more pronounced uncertainty likely exists in the open source data used here [@kaplow_determinantsuncertaintyinternational_2021]. Earlier years may have less accurate coverage as both private and government intelligence and surveillance efforts were less sophisticated, making it harder to know the capabilities of states that were far away [@lin-greenberg_privateeyessky_2021]. New Zealand's transparency in capability reports is an anomaly, as many countries -- particularly those salient to contemporary international security like Russia, China, North Korea, and Iran -- try to deceive their foes (or even friends) in misrepresenting their capabilities by exaggerating or underplaying their strength in particular platforms [@mastro_vulnerabilityrisingpowers_2016; @mawdsley_comparingmilitarieschallenges_2016]. Weapons systems also differ in whether open source intelligence is likely to identify them correctly, as capabilities whose effectiveness relies on secrecy and deception may not be known to the rest of the world (or rest of the government) until used in combat [@green_concealrevealmanaging_2020]. It is important that scholars acknowledge this limitation and, where possible, take steps to address it. For example, biases in GDP estimates have been identified using night-time-light data gathered from satellites, allowing scholars to quantify the extent to which autocratic regimes exaggerate their economic growth [@martinez_howmuchshould_2022]. In the future, similar measures could be applied to rDMC by, as has been done with Russia in the invasion of Ukraine, combining reports about military use and loss during combat to pre-war inventory estimates.

# Data Collection and Formats {#sec-data-collection-and-formats}

The first step of the data collection process creates a consistent typology of military equipment types, equipment names, and unit names. I create three versions of the data. The first, *rDMC raw*, organizes military equipment true to the original IISS categorizations. The second and third, *rDMC long* and *rDMC wide* produce a new more aggregated classification of military capabilities. The *rDMC* codebook defines the military capabilities included. Table \ref{table:categories} shows the unique values that exist at each nested level, and how that is aggregated in the final classification. A detailed description of the three different data versions follows.

```{=tex}
\begin{singlespace}   
\begin{table}[h]
\centering              
\caption[Categories of military capabilities]{Description of unit of analysis and variables in the different versions of the rDMC dataset.}
  \begin{tabular}{|c|c|c|c|}
    \hline
    \textbf{Data Version} & \textbf{Unit of Analysis} & \textbf{N} & \textbf{Variables} \\
    \hline
    Raw & Country-year-military unit & $`r scales::comma(nrow(rdmc_raw))`$ & Service, disaggregated category, count \\
    \hline
    Long & Country-year-military technology & $`r scales::comma(nrow(rdmc_long))`$ & Aggregate category, count \\
    \hline
    Wide & Country-year & $`r scales::comma(nrow(rdmc_wide))`$ & Technologies \\
    \hline
\end{tabular}
\label{table:categories}
\end{table}
\end{singlespace}
```
## rDMC raw

*rDMC raw* provides a version of the original data without subjective coding decisions or equipment categorizations, altered only by unambiguous data cleaning and process. IISS categorizes military capabilities in five descending levels: equipment types, equipment subtypes, equipment names, equipment subnames, and unit names.[^4] An example is provided in Table \ref{table:equipment}. Equipment type involves the most aggregate categorizations ("aircraft" or "armored fighting vehicles"). Equipment names are the next primary IISS categorization ("transport" or "fighter" aircraft). Subtype and subname are auxiliary classifications that exist for some, but not all technologies (designations of "light", "medium", and "heavy" transport aircraft or "FFM" frigates with surface to air missiles). Lastly, the unit names identifies specific models ("M1A1 Abrams" tank). *rDMC raw* is the only version of the data that provides this unit-level information.[^5] In this way, scholars can used the disaggregated data to identify, for example, how many countries have Aim-9 Sidewinder missiles in each year. Comparisons across country and year are possible, provided the research is careful in noting different naming conventions at the unit level.[^6]

[^4]: While these 5 classifications levels are (somewhat) produced by IISS, their labels are the author's.

[^5]: Standardizing string variables across unit names is a challenging endeavor that will be advanced in future iterations of the data. For more information about using the unit-level information in *rDMC raw*, see the appendix.

[^6]: For example, entries exist for the "AIM-9", "AIM-9 Sidewinder", "Aim-9", and "Aim-9 Sidewinder", which all refer to the same capability but with differences in capitalization and punctuation. rDMC 2.0 will standardize the unit-level names, but the time-intensive nature of that effort means it will not be completed for some time.

```{=tex}
\begin{singlespace}   
\begin{table}[h]
\centering              
\caption[Equipment sample]{Equipment categories example from rDMC \textit{raw}. Non-equipmented category columns omitted.}
  \begin{tabular}{|c|c|c|c|c|}
  \hline
  \textbf{Type} & \textbf{Subtype} & \textbf{Name} & \textbf{Subname} & \textbf{Unit name} \\
  \hline
  Aircraft & NA & TPT & light & Cessna 208B \\
  \hline
  Principal surface combatants & frigates & FFM & NA & Mourad Rais \\
  \hline
  Armoured fighting vehicles & NA & MBT & NA & M1A1 Abrams \\
  \hline
\end{tabular}
\label{table:equipment}
\end{table}
\end{singlespace}
```
*rDMC raw* can be used to examine questions concerning topics like combat effectiveness, arms sales, and interest group lobbying. Scholars have identified the challenges of identifying observable ex-ante proxies for the military effectiveness of particular platforms [@brooks_creatingmilitarypower_2007]. @biddle_militarypowerexplaining_2005 [135] uses the age of a military capability as a proxy for its effectiveness. During Operation Desert Storm, the average date of introduction for US weapons was 1974 while Iraq's was 1962, with the assumption being that newer capabilities were more advanced. But until now, broader measures of the age of different components of a state's military portfolio have remained un-examined. Figure \ref{fig-mbt-invention} shows a broader comparison of the age of introduction for each main battle tank in the data as well as its last recorded year in service. The year of introduction is identified as the first year in which at least one state possessed that type of tank.[^7] Scholars could broaden Biddle's analysis beyond the Gulf War by identifying differences in predicted battlefield performance across generations of all types of technologies. This exercise also serves as a method of data validation, as the data are consistent with historical accounts concerning the development of many of these tanks like the M1 Abrams entering service in 1980 and the Japanese Type 10 being developed in 2012 [@ludeke_internationaltankdevelopment_2018].

[^7]: Since the data starts in 1970, tanks first deployed in 1970 most likely represent models developed before then. A more thorough analysis would track down the actual deployment date for each tank model, rather than relying on their deployment date as done here. Importantly, the data does distinguish between different platform upgrades, differentiating an F-16A from an F-16B in most cases.

```{r}
#| label: fig-mbt-invention
#| fig-cap: "The first year in which each type of main battle tank was deployed by any state. The figure is organized chronologically, with the newest main battle tanks at the top."
#| fig.width: 8
#| fig.height: 10

# Split combined MBTs and dedup
mbt <- rdmc_raw %>%
  dplyr::filter(equipment_name == "MBT" &
                  unit_count != 0) %>%
  dplyr::select(unit_name) %>%
  dplyr::mutate(unit_name = dplyr::recode(unit_name, 
                                          "AML-60/BRDM-2/BMP-1" = 
                                            "AML-60_BRDM-2_BMP-1",
                                          "AMX-30 ER1/EM2" = 
                                            "AMX-30 ER1_AMX-30 ER2",
                                          "AMX-30/-B2" = 
                                            "AMX-30_AMX-30B2",
                                          "Centurion 5/7" = 
                                            "Centurion 5_Centurion 7",
                                          "Centurion/Olifant" =
                                            "Centurion_Olifant",
                                          "Centurion/Olifant 2B" =
                                            "Centurion_Olifant 2B",
                                          "Chieftain Mk 3/5" = 
                                            "Chieftain Mk3_Chieftain Mk5",
                                          "Chieftain Mk3/Mk5" = 
                                            "Chieftain Mk3_Chieftain Mk5",
                                          "Chieftain/Centurion" = 
                                            "Chieftain_Centurion",
                                          "Daimler/Huber" = 
                                            "Daimler_Huber",
                                          "incl T-54, T-62, T-64 plus some T-72" = 
                                            "T-54_T-62_T-64_T-72",
                                          "incl T-54, T-62, T-64, and T-72" = 
                                            "T-54_T-62_T-64_T-72",
                                          "IS-2/-3, T-10, T-10M, T-54/-55/-62/-64/-72, PT-76" = 
                                            "IS-2_IS-3_T-10_T-10M_T-54_T-55_T-62_T-64_T-72_PT-76",
                                          "Isherman/Super Sherman" = 
                                            "Isherman_Super Sherman",
                                          "JS-2/-3" = 
                                            "JS-2_JS-3",
                                          "JS-2/-3, T-10, T-10M, T-54/-55/-62, M-70, PT-76" = 
                                            "JS-2_JS-3_T-10_T-10M_T-54_T-55_T-62_M-70_PT-76",
                                          "JS-2/-3, T-10, T-10M, T-54/-55/-62, PT-76" = 
                                            "JS-2_JS-3_T-10_T-10M_T-54_T-55_T-62_PT-76",
                                          "JS-2/-3, T-10, T-10M, T-54/-55/-62/-72, PT-76" =
                                            "JS-2_JS-3_T-10_T-10M_T-54_T-55_T-62_T-72_PT-76",
                                          "JS-2/-3, T-54/-55/-62, PT-76" = 
                                            "JS-2_JS-3_T-54_T-55_T-62_PT-76",
                                          "JS-3/T-10" = 
                                            "JS-3_T-10",
                                          "K1/K1A1" = 
                                            "K1_K1A1",
                                          "Leopard 1A1/1A3/1A4/1A5" = 
                                            "Leopard 1A1_Leopard 1A3_Leopard 1A4_Leopard 1A5",
                                          "Leopard 1A3/4" =
                                            "Leopard 1A3_Leopard 1A4",
                                          "Leopard 1A4/5" =
                                            "Leopard 1A4_Leopard 1A5",
                                          "Leopard 2A4/5" =
                                            "Leopard 2A4_Leopard 2A5",
                                          "Leopard 2A4/T-72" =
                                            "Leopard 2A4_T-72",
                                          "Leopard C1/C2" =
                                            "Leopard C1_Leopard C2",
                                          "M-1/M-1A1 Abrams" =
                                            "M-1 Abrams_M-1A1 Abrams",
                                          "M-24/-41" =
                                            "M-24_M-41",
                                          "M-4/M-47/M-48" =
                                            "M-4_M-47_M-48",
                                          "M-4/M-48" =
                                            "M-4_M-48",
                                          "M-47, M-60" =
                                            "M-47_M-60",
                                          "M-47/-48" =
                                            "M-47_M-48",
                                          "M-47/-48 (incl A5)" =
                                            "M-47_M-48_M-48A5",
                                          "M-47/48" = 
                                            "M-47_M-48",
                                          "M-47/M-4" =
                                            "M-47_M-4",
                                          "M-47/M-48" =
                                            "M-47_M-48",
                                          "M-47/M-48/M-60" =
                                            "M-47_M-48_M-60",
                                          "M-47/M-48A5" =
                                            "M-47_M-48A5",
                                          "M-47/M-48A5 (in store)" =
                                            "M-47_M-48A5",
                                          "M-48/M-103" =
                                            "M-48_M-103",
                                          "M-48/M-103A2" =
                                            "M-48_M-103A2",
                                          "M-48/M-60" =
                                            "M-48_M-60",
                                          "M-48/M-60/M-60A2" =
                                            "M-48_M-60_M-60A2",
                                          "M-48/M-60A1/M-60A2" =
                                            "M-48_M-60A1_M-60A2",
                                          "M-48A1/A2" =
                                            "M-48A1_M-48A2",
                                          "M-48A2/A2C" =
                                            "M-48A2_M-48A2C",
                                          "M-48A2/A2C/A2G2" =
                                            "M-48A2_M-48A2C_M-48A2G2",
                                          "M-48A2/A2G2" =
                                            "M-48A2_M-48A2G2",
                                          "M-48A2/A4" =
                                            "M-48A2_M48-A4",
                                          "M-48A2G/A2" =
                                            "M-48A2G_M-48A2",
                                          "M-4A/E-4" =
                                            "M-4A_M-4AE-4",
                                          "M-4A3/M-51" =
                                            "M-4A3_M-51",
                                          "M-60/A1" =
                                            "M-60_M-60A1",
                                          "M-60/A1/A2" =
                                            "M-60_M-60A1_M-60A2",
                                          "M-60/A1/A3" =
                                            "M-60_M-60A1_M-60A3",
                                          "M-60/M-60A1" =
                                            "M-60_M-60A1",
                                          "M-60/M-60A1/M-60A3" =
                                            "M-60_M-60A1_M-60A3",
                                          "M-60A1/M-60A3" =
                                            "M-60A1_M-60A3",
                                          "M-60A1/M-60A3 (in store)" =
                                            "M-60A1_M-60A3",
                                          "M-84, T-34, T-55" =
                                            "M-84_T-34_T-55",
                                          "M-84/M-72" =
                                            "M-84_M-72",
                                          "M-84/T-72" =
                                            "M-84_T-72",
                                          "M1-A1/M1-A2 Abrams" =
                                            "M1-A1 Abrams_M1-A2 Abrams",
                                          "M1A1/A2 Abrahms" =
                                            "M1A1 Abrams_M1A2 Abrams",
                                          "M1A2/A2S Abrahms" =
                                            "M1A2 Abrams_M1A2S Abrams",
                                          "M47/M48" =
                                            "M47_M48",
                                          "M48A1/A5" =
                                            "M48A1_M48A5",
                                          "M48A5 T1/T2" =
                                            "M48A5 T1_M48A T2",
                                          "M48A5/T1/T2" =
                                            "M48A5_M48A5 T1_M48A5 T2",
                                          "M48T5/T1/T2" =
                                            "M48T5_M48T1_M48T2",
                                          "M60A1/A3" =
                                            "M60A1_M60A3",
                                          "M60A3/TTS" =
                                            "M60A3_M60A3TTS",
                                          "M60Al/A3" =
                                            "M60Al_M60A3",
                                          "Merkava I/II" =
                                            "Merkava I_Merkava II",
                                          "Merkava I/II/III" =
                                            "Merkava I_Merkava II_Merkava III",
                                          "Merkava I/II/III/IV" =
                                            "Merkava I_Merkava II_Merkava III_Merkava IV",
                                          "Olifant 1A/1B" =
                                            "Olifant 1A_Olifant 1B",
                                          "Pz-55/-57" =
                                            "Pz-55_Pz-57",
                                          "Pz-55/-57 (Centurion)" =
                                            "Pz-55_Pz-57",
                                          "Pz-61/68" =
                                            "Pz-61_Pz-68",
                                          "Pz-68/75" =
                                            "Pz-68_Pz-75",
                                          "Pz-68/88" =
                                            "Pz-68_Pz-88",
                                          "Sherman/Centurion/M-48/M-60/TI-67/T-54/-55" =
                                            "Sherman_Centurion_M-48_M-60_TI-67_T-54_T-55",
                                          "Sherman/Comet" =
                                            "Sherman_Comet",
                                          "Strv-102/-104 (Centurion)" =
                                            "Strv-102_Strv-104",
                                          "T-10, T-54/-55/-62, PT-76" =
                                            "T-10_T-54_T-55_T-62_PT-76",
                                          "T-10/-10M" =
                                            "T-10_T-10M",
                                          "T-34/-54" =
                                            "T-34_T-54",
                                          "T-34/-54/-55" =
                                            "T-34_T-54_T-55",
                                          "T-34/-54/-55/-62" =
                                            "T-34_T-54_T-55_T-62",
                                          "T-34/-54/-55/M-47" =
                                            "T-34_T-54_T-55_M-47",
                                          "T-34/-54/-55/M-84/-60A3/AMX-30" =
                                            "T-34_T-54_T-55_M-84_T-60A3_AMX-30",
                                          "T-34/-55" =
                                            "T-34_T-55",
                                          "T-34/-55/-72/M-84" =
                                            "T-34_T-55_T-72_M-84",
                                          "T-34/-55/-72M/M-84/-47" =
                                            "T-34_T-55_T-72M_M-84_M-47",
                                          "T-34/-55/AMX-30/M-60A3" =
                                            "T-34_T-55_AMX-30_M-60A3",
                                          "T-34/-55/M-84/-72M" =
                                            "T-34_T-55_M-84_M-72M",
                                          "T-34/54" =
                                            "T-34_T-54",
                                          "T-34/54/55" =
                                            "T-34_T-54_T-55",
                                          "T-34/54/55/62" =
                                            "T-34_T-54_T-55_T-62",
                                          "T-34/85" =
                                            "T-34_T-85",
                                          "T-34/T-54" =
                                            "T-34_T-54",
                                          "T-34/T-54/T-55" =
                                            "T-34_T-54_T-55",
                                          "T-34/T-54/T-55/M-77/T-72" =
                                            "T-34_T-54_T-55_M-77_T-72",
                                          "T-34/T-54/T-55/T-59" =
                                            "T-34_T-54_T-55_T-59",
                                          "T-34/T-54/T-55/T-62" =
                                            "T-34_T-54_T-55_T-62",
                                          "T-34/T-54/T-55/T-62/Type-59" =
                                            "T-34_T-54_T-55_T-62_Type-59",
                                          "T-34/T-54/T-55/T-62/Type-59/Chonma/Pokpoong" =
                                            "T-34_T-54_T-55_T-62_Type-59_Chonma_Pokpoong",
                                          "T-34/T-55" =
                                            "T-34_T-55",
                                          "T-34/T-85" =
                                            "T-34_T-85",
                                          "T-45/-55/AMX-30/M-60A3" =
                                            "T-45_T-55_AMX-30_M-60A3",
                                          "T-54, T-34, T-55" =
                                            "T-54_T-34_T-55",
                                          "T-54, T-34, T-55, T-62" =
                                            "T-54_T-34_T-55_T-62",
                                          "T-54, T-55, T-34" =
                                            "T-54_T-55_T-34",
                                          "T-54/-55" =
                                            "T-54_T-55",
                                          "T-54/-55 and T-62" =
                                            "T-54_T-55_T-62",
                                          "T-54/-55/-62" =
                                            "T-54_T-55_T-62",
                                          "T-54/-55/-62/-64/-72" =
                                            "T-54_T-55_T-62_T-64_T-72",
                                          "T-54/-55/-62/-72" =
                                            "T-54_T-55_T-62_T-72",
                                          "T-54/-55/-72" =
                                            "T-54_T-55_T-72",
                                          "T-54/-55/M-77" =
                                            "T-54_T-55_M-77",
                                          "T-54/-55M" =
                                            "T-54_T-55M",
                                          "T-54/55" =
                                            "T-54_T-55",
                                          "T-54/T-55" =
                                            "T-54_T-55",
                                          "T-54/T-55/-62" =
                                            "T-54_T-55_T-62",
                                          "T-54/T-55/-62/-72" =
                                            "T-54_T-55_T-62_T-72",
                                          "T-54/T-55/T-34" =
                                            "T-54_T-55_T-34",
                                          "T-54/T-55/T-59" =
                                            "T-54_T-55_T-59",
                                          "T-54/T-55/T-62" =
                                            "T-54_T-55_T-62",
                                          "T-54/T-55/T-62S" =
                                            "T-54_T-55_T-62S",
                                          "T-54/T-55/Type-59" =
                                            "T-54_T-55_Type-59",
                                          "T-54/T-55/Type-59/Safir-74" =
                                            "T-54_T-55_Type-59_Safir-74",
                                          "T-54/T-59" =
                                            "T-54_T-59",
                                          "T-55, T-34, T-54, T-62" =
                                            "T-55_T-34_T-54_T-62",
                                          "T-55, T-62, T-54, T-34" =
                                            "T-55_T-62_T-54_T-34",
                                          "T-55, T-64, T-72" =
                                            "T-55_T-64_T-72",
                                          "T-55/-62" =
                                            "T-55_T-62",
                                          "T-55/-62/-72" =
                                            "T-55_T-62_T-72",
                                          "T-55/-62/-72/-80" =
                                            "T-55_T-62_T-72_T-80",
                                          "T-55/-72/M-84" =
                                            "T-55_T-72_M-84",
                                          "T-55/M-84" =
                                            "T-55_M-84",
                                          "T-55/T-54" =
                                            "T-55_T-54",
                                          "T-55/T-55MV" =
                                            "T-55_T-55MV",
                                          "T-55/T-62" =
                                            "T-55_T-62",
                                          "T-55/T-64/T-72/T-80" =
                                            "T-55_T-64_T-72_T-80",
                                          "T-55AM2/T-55" =
                                            "T-55AM2_T-55",
                                          "T-55AM2/T-55A" =
                                            "T-55AM2_T-55A",
                                          "T-55M/T-72/T-80" =
                                            "T-55M_T-72_T-80",
                                          "T-62K/T-62M" =
                                            "T-62K_T-62M",
                                          "T-64/-72" =
                                            "T-64_T-72",
                                          "T-64A/T-64B" =
                                            "T-64A_T-64B",
                                          "T-72/-80" =
                                            "T-72_T-80",
                                          "T-72/L/T-72M" =
                                            "T-72_T-72L_T-72M",
                                          "T-72/T-72M" =
                                            "T-72_T-72M",
                                          "T-72/T-72M1 D/T-72M1" =
                                            "T-72_T-72M1 D_T-72M1",
                                          "T-72/T-80" =
                                            "T-72_T-80",
                                          "T-72B/BA" =
                                            "T-72B_T-72BA",
                                          "T-80/-M9" =
                                            "T-80_T-80M9",
                                          "T-80/T-80UD/T-80UM/T-80U" =
                                            "T-80_T-80UD_T-80UM_T-80U",
                                          "T-80/T-84" =
                                            "T-80_T-84",
                                          "T-80BV/U" =
                                            "T-80BV_T-80U",
                                          "T-90/T-90A" =
                                            "T-90_T-90A",
                                          "T54/55" =
                                            "T54_T55",
                                          "Type -54/-55" =
                                            "Type-54_Type-55",
                                          "Type -54/-55/-62" =
                                            "Type-54_Type-55_Type-62",
                                          "Type-59-II/Type-59-I" =
                                            "Type-59-II_Type-59-I",
                                          "Type-59/-59D/-59-II" =
                                            "Type-59_Type-59D_Type-59-II",
                                          "Type-59/-69" =
                                            "Type-59_Type-69",
                                          "Type-59/Al-Zarrar" =
                                            "Type-59_Al-Zarrar",
                                          "Type-59/Ch T-62" =
                                            "Type-59_Ch T-62",
                                          "Type-59/Type-59D" =
                                            "Type-59_Type-59D",
                                          "Type-59/Type-59D/type-59-II" =
                                            "Type-59_Type-59D_Type-59-II",
                                          "Type-59/-59D/-59-II" =
                                            "Type-59_Type-59D_Type-59-II",
                                          "Type-61/Type-74" =
                                            "Type-61_Type-74",
                                          "Type-69-I/-II (mod Type-59)" =
                                            "Type-69-I_Type-69-II (mod Type-59)",
                                          "Type-69/Type-69G" =
                                            "Type-69_Type-69G",
                                          "Type-69I/-II" =
                                            "Type-69I_Type-69-II",
                                          "Type-69III/-79" =
                                            "Type-69III_Type-79",
                                          "Type-79/-80" =
                                            "Type-79_Type-80",
                                          "Type-88A/B" =
                                            "Type-88A_Type-88B",
                                          "Type-96/-96A" =
                                            "Type-96_Type-96A",
                                          "Type-98A/-99" =
                                            "Type-98A_Type-99",
                                          "Type-98A/Type-99" =
                                            "Type-98A_Type-99")) %>%
  tidyr::separate_rows(unit_name, sep = "_") %>%
  dplyr::distinct() %>%
  dplyr::arrange(unit_name)

# Create new matched strings based on wikidata page names
mbt_new <- googlesheets4::read_sheet(ss = "https://docs.google.com/spreadsheets/d/1yf-dGAiicIGNScouedvOCET4s34GGl3OelXrgOPWq8g/edit?usp=sharing",
                                    sheet = "iiss_mbt")

# Merge
mbt <- dplyr::left_join(mbt_new, mbt)

# Subset to main battle tanks and identify the earliest year and final year for each string value
mbt_all <- dplyr::left_join(rdmc_raw, mbt)

mbt_first_year <- mbt_all %>%
  dplyr::select(year, equipment_name, mbt_new, unit_count) %>%
  dplyr::arrange(year) %>%
  dplyr::group_by(equipment_name, mbt_new) %>%
  dplyr::mutate(unit_count = dplyr::if_else(is.na(unit_count), 1, unit_count)) %>%
  dplyr::filter(unit_count > 0) %>%
  dplyr::filter(equipment_name == "MBT") %>%
  dplyr::slice(1) %>%
  dplyr::ungroup() %>%
  dplyr::select(-unit_count)


mbt_last_year <- mbt_all %>%
  dplyr::select(year, equipment_name, mbt_new, unit_count) %>%
  dplyr::arrange(year) %>%
  dplyr::group_by(equipment_name, mbt_new) %>%
  dplyr::mutate(unit_count = dplyr::if_else(is.na(unit_count), 1, unit_count)) %>%
  dplyr::filter(unit_count > 0) %>%
  dplyr::filter(equipment_name == "MBT") %>%
  dplyr::select(-equipment_name, -unit_count) %>%
  dplyr::summarise(year = dplyr::last(year)) %>%
  dplyr::ungroup()

names(mbt_first_year)[names(mbt_first_year) == "year"] <- "first_year"
names(mbt_last_year)[names(mbt_last_year) == "year"] <- "last_year"

world_tek_eqpt_name <- merge(mbt_first_year, mbt_last_year) %>%
  dplyr::filter(!is.na(mbt_new))

# Plot
ggplot(world_tek_eqpt_name,
       aes(x = first_year,
           xend = last_year,
           y = reorder(mbt_new, first_year))) +
  ggalt::geom_dumbbell(data = world_tek_eqpt_name,
                aes(y = reorder(mbt_new, first_year),
                    x = first_year, xend = last_year),
                size=1.0,
                color="blue",
                size_x = 1.5,
                size_xend = 1.5,
                colour_x = "blue",
                colour_xend = "blue") +
  scale_x_continuous(breaks = c(1970, 1975, 1980, 1985, 1990, 1995, 2000, 2005, 2010, 2014), 
                     labels = c("pre-1970", "'75", "'80", "'85","'90","'95","'00","'05","'10", "post-2014")) +
  labs(title = "Main Battle Tanks: Years of Operation (1970-2014)",
       x = "Year" ,
       y = "Main Battle Tank",
       caption = "Source: IISS") +
  theme_bw() +
  theme(text = element_text(size = 12))
```

## rDMC long and rDMC wide

*rDMC long* and *rDMC wide* provide a new, aggregated typology of national military capabilities.[^8] The `r scales::comma(dplyr::n_distinct(rdmc_long$tek))` categories that comprise the technologies are shown in Figure \ref{fig-dendrogram}. These categories were chosen because they represent weapons categories commonly recognized and used by states in arms reduction agreements like the Treaty on Conventional Armed Forces in Europe (CFE). As a result, national records are most consistent and accurate at this level of analysis since those records were used during international negotiations. The resulting data provides a count of, for example, "aircraft -- transport" for every country with a value that is the sum of all the rows in *rDMC raw* that had the original 5-level categorizations that match the new "aircraft - transport" category.

[^8]: *rDMC long* and *rDMC wide* are identical in terms of scope and values and differ only in the unit of analysis. In *rDMC long* the unit of analysis is the country-year-technology while in *rDMC wide* the unit of analysis is the country-year. They are both provided to simplify the process of merging with existing datasets much like the Alliance Treaty Obligations and Provisions (ATOP) provides alliance data at various units of analysis [@leeds_alliancetreatyobligations_2002].

![Description of the disaggregated technology categories used to compute the distribution of military capabilities.](figures/dendrogram_subjective_full.png){#fig-dendrogram}

Empirically, this new typology is helpful because the technology categories are definitionally uniform across the data sample. Unlike *rDMC raw*, the new typology is standardized so it is consistent across country and year, thus simplifying time series-cross sectional comparisons. Where inconsistencies arise, transparent coding decisions were made with reference to external sources documented in the code repository. This ensure that, for example, the C-130H Hercules is always listed with an equipment type coding of 'aircraft' and an equipment name coding of 'transport (TPT)'.[^9] Aggregating the technology categories also reduces the sparseness of a dataset that is already zero-inflated. While most country-years possess armored fighting vehicles, not all possess every kind of armored fighting vehicle (main battle tanks, armored personnel carriers, armored infantry fighting vehicles, and reconnaissance vehicles) let alone each of the `r rdmc_raw %>% dplyr::filter(equipment_type == "armoured fighting vehicles") %>% dplyr::summarise(count = scales::comma(dplyr::n_distinct(unit_name)))` distinct units categorized as "armored fighting vehicles". That is not to say that every type or model is the same; but those distinctions present computational challenges for broad international relations questions. Scholars interested in making those distinctions are advised to use the *rDMC raw* version of the data.

[^9]: There are cases where an equipment's category changes in ways the data maintains. For example, many aircraft and helicopters are phased out by being shifted to non-combat roles like training before they are fully retired. A country may thus experience a decrease in combat aircraft and an increase in training aircraft from one year to the next without the actual aircraft they possess changing.

There are, of course, many ways to categorize technologies depending on the research question. Disagreement over the categories produced by *rDMC long* and *rDMC* *wide* are remedied by the existence of *rDMC raw* that can be used by scholars to produce their own categorizations. "Aircraft -- transport" and "helicopters -- transport" could be considered somewhat interchangeable to those interested in a state's ability to move personnel and material. Alternatively, "helicopters -- transport" and "helicopters -- search and rescue" may be reasonably combined if studying arms sales or military base location given their similar physical make-up. In other cases, categories could be further *dis*aggregated. The category "aircraft -- maritime patrol", for example, include anti-submarine warfare, anti-surface warfare, and maritime reconnaissance which all "patrol" different areas of the sea. Rather than try to create and justify a single definitive typology of military technologies, the data are constructed so that all aggregations are transparent and modular. By simply selecting new aggregation categories, scholars can produce their own counts with different categories to produce a new dataset consistent with classifications that suit their research question.

# Global Trends {#sec-global-trends}

This section identifies some descriptive trends in military capabilities across time and space to highlight ways scholars can use these data in their own research.

## Technological Trends Across Time

*rDMC* can shed light on topics like military diffusion and military effectiveness by providing empirical data about how militaries change over time [@horowitz_diffusionmilitarypower_2010; @gilli_spreadmilitaryinnovations_2014]. Research on military diffusion has argued that the rate at which weapons technologies spread to other states around the globe influences the likelihood of war [@bas_armsdiffusionwar_2012]. For example, much has been written about the consequences of aerial bombing [@allen_understandingimpactair_2019]. Although this research has looked at cases where states used aerial bombing, it does not identify what states have the capacity to conduct aerial bombing or how that changes over time. Figure \ref{fig-aircraft} shows annual changes in the total number of military aircraft as well as changes in the annual average across all states. The end of the Cold War is an important turning point in both respects. Total global military aircraft dropped from roughly 40,000 to just over 20,000 and the average military aircraft per country fell from 400 to just under 200. Why such a significant reduction worldwide? Part of the explanation may be the Adapted Treaty on Conventional Armed Forces in Europe (CFE) which required NATO and the Warsaw Pact to each maintain no more than 6,800 combat aircraft [@bolving_adaptedtreatyconventional_2000]. This resulted in the destruction of 69,000 pieces of "Treaty Limited Equipment", with the Warsaw Pact destroying over 30% of its arsenal and NATO destroying 5% [@mccausland_europeaneurasiansecurity_2012].

```{r}
#| label: fig-aircraft
#| fig-cap: "Bars (left y-axis) represent the total number of military aircraft in the world in each year. The blue line (right y-axis) represents the average number of aircraft owned by each national military in each year."
#| fig.width: 8
#| fig.height: 4

rdmc_long %>%
  tidyr::separate(col = tek, into = c("parent", "child"), sep = "_", remove = TRUE) %>%
  dplyr::select(country, year, parent, unit_count) %>%
  dplyr::group_by(country, year, parent) %>%
  dplyr::summarize(equipment_count = sum(unit_count)) %>%
  dplyr::ungroup() %>%
  dplyr::filter(!is.na(equipment_count)) %>%
  dplyr::group_by(year, parent) %>%
  dplyr::mutate(annual_avg = round(mean(equipment_count), 0),
                annual_total = sum(equipment_count, na.rm = TRUE)) %>%
  dplyr::ungroup() %>%
  dplyr::select(year, parent, annual_avg, annual_total) %>%
  dplyr::distinct() %>%
  dplyr::filter(parent == "aircraft") %>%
  ggplot(aes(year, annual_total)) +
  geom_bar(stat = "identity", width = 1, fill = "gray", color = "black") +
  geom_line(aes(x = year, y = annual_avg*100),
            color = "blue", size = 1) +
  labs(title = "Global National Aircraft Inventories (1970-2014)",
       subtitle = "", x = "Year", y = "Total world count") +
  scale_y_continuous(labels = scales::label_comma(),
                     sec.axis = sec_axis(~ . /100, name = "Mean national count")) +
  scale_x_continuous(breaks = seq(1970, 2014, 5)) +
  theme_bw() +
  theme(text = element_text(size = 12),
        legend.position = "none",
        axis.title.y.right = element_text(color = "blue"),
        axis.text.y.right = element_text(color = "blue"))
```

## Technological Trends Across States

Military capabilities differ in their purpose. Some capabilities are most salient for states projecting power while others are relevant for territorial defense; some are better for winning and others better for warning [@lindsay_politicsmanyother_2022]. All else being equal, what capabilities do states emphasize? Figure \ref{fig-lollipop-us} shows the distribution of US military capabilities relative to the world average at decade intervals. Not surprisingly, US capabilities generally dwarf those of the rest of the international system. But this is not universal, nor is the degree of US dominance constant. For much of the past half century, the US has had fewer anti-tank/anti-infrastructure capabilities as well as fewer mine warfare capabilities than the *average* state. The 2022 Russian invasion of Ukraine made this fact especially salient, as transfers of one third of the US anti-tank/anti-infrastructure weapons stockpile to Ukraine prompted concern about the remaining US inventory [@cancian_willunitedstates_2022].

```{r}
#| label: fig-lollipop-us
#| fig-cap: "Count of US military capabilities relative to other states in decade intervals. Each bar represents the standard deviation of the count of US capabilities relative to the world average. Colors represent positive and negative standard deviations."
#| fig.width: 8
#| fig.height: 8

rdmc_long %>%
  tidyr::separate(col = tek, into = c("parent", "child"), sep = "_", remove = TRUE) %>%
  dplyr::select(country, year, parent, unit_count) %>%
  dplyr::group_by(country, year, parent) %>%
  dplyr::summarize(equipment_count = sum(unit_count, na.rm = TRUE)) %>%
  dplyr::ungroup() %>%
  dplyr::mutate(parent = as.factor(parent)) %>%
  dplyr::group_by(year, parent) %>%
  dplyr::mutate(equip_scale = round(scale(equipment_count), 1)) %>%
  dplyr::mutate(type = as.numeric(equip_scale),
                type = dplyr::if_else(type < 0, "below", "above")) %>%
  dplyr::ungroup() %>%
  dplyr::select(-equipment_count) %>%
  dplyr::mutate(parent = stringr::str_to_title(parent)) %>%
  dplyr::mutate(parent = dplyr::recode(parent,
                                       "Anti-Tank/Anti-Infrastructure" = "Anti-Tank/Infra.",
                                       "Armoured Fighting Vehicles" = "Armored Vehicles",
                                       "Logistics and Support" = "Naval Logistics",
                                       "Patrol And Coastal Combatants" = "Patrol Ships",
                                       "Principal Surface Combatants" = "Surface Ships",
                                       "Unmanned Aerial Vehicles" = "UAVs")) %>%
  dplyr::filter(country == "us",
                stringr::str_detect(year, "4$"),
                year != 1974) %>%
  ggplot(aes(x = reorder(factor(parent), dplyr::desc(parent)), 
             y = equip_scale,
             label = equip_scale)) +
  geom_segment(aes(x = parent,
                   xend = parent,
                   y = 0,
                   yend = equip_scale)) +
  geom_point(aes(col = type),
             stat = 'identity',
             size = 6) +
  geom_text(color = "black",
            size = 2.5) +
  coord_flip() +
  scale_color_brewer(palette = "Accent") +
  scale_x_discrete(limits = rev) +
  facet_wrap(~ year, scales = "free_x") +
  labs(title = "US Military Capabilities Compared to Global Average",
       caption = "Note: Bars represent standard deviations from the annual mean for each category.",
       x = "",
       y = "Standard Deviation") +
  theme_bw() +
  theme(text = element_text(size = 12),
        legend.position = "none")
```

Variation in the US distribution of capabilities could be explained by myriad factors. Perhaps geography makes mine warfare less valuable since the US primarily fights far from home. Military capabilities have substitutes and complements, and it's possible anti-tank/anti-infrastructure needs are adequately addressed with bombing aircraft and land defense missiles. Quantity is also not synonymous with quality, so the US could still be more than sufficiently capable with fewer platforms. Whatever the hpothesis, rDMC allows scholars to empirically examine why states possess the weapons they do.

When do states' military portfolios mirror those of others? Scholars argue socialization and competition under anarchy results in convergence, whereby states emulate the capabilities of the most powerful states in the international system [@waltz_theoryinternationalpolitics_1979, p 127; @resende-santos_anarchyemulationmilitary_1996, p 196] while others have noted functional differentiation across allies who produce distinct, complementary military assets [@gannon_usetheirforce_2021]. Although Cold War military planners fell prey to the homeopathy heuristic by embracing "missile matching" vis-√†-vis their rivals [@kanwisher_cognitiveheuristicsamerican_1989], systematic evidence of similarity or difference across states' militaries has remained empirically untested. This matters. If states mirror the military capabilities of others, then "new and proven military methods, even if they are truly revolutionary, will have no lasting affect on the balance of international influence" [@goldman_systemiceffectsmilitary_1999, p 83]. This also implicates security cooperation, with scholars cautioning that states imitating the military practices of their peers "rarely resort to alliances for their security" [@parent_balancingneorealism_2015, p 52].

*rDMC* allows the similarity of militaries to be identified and measured. Figure \ref{fig-country-clusters} shows the results of a k-means clustering analysis for all states in 1994 using binary values indicating whether a state possessed each of the `r scales::comma(dplyr::n_distinct(rdmc_long$tek))` military technologies.[^10] A form of community detection, k-means clustering is an un-supervised learning algorithm that partitions the data into clusters of most-similar states using a gap statistic identifying the optimal number of groups [@tibshirani_estimatingnumberclusters_2001].[^11] There are eight distinct clusters of countries that share significant commonality in the military capabilities they possess. Some great powers are similar to one another (the US, Russia, France, and UK), but others appear more distinct (China and India). The US is similar to some allies like Spain and Italy, but not others like Poland and Canada. There is geographic similarity in Central Asia, but significant dissimilarity across the Pacific Rim.

[^10]: I exclude states with a population below 750,000 as done by @eyre_statusnormsproliferation_1996. Other missing states were not yet sovereign (South Sudan) or involved in civil conflict (Liberia).

[^11]: This clustering method has been used in the field for community detection of democratization patterns [@gleditsch_diffusioninternationalcontext_2006] and arms sales [@akerman_globalarmstrade_2014].

```{r}
#| label: fig-country-clusters
#| fig-cap: "K-means clustering showing the similarity of military technologies portfolios."
#| fig.width: 8
#| fig.height: 8

rdmc_dummy <- rdmc_long %>%
  dplyr::select(country, year, tek, unit_count) %>%
  dplyr::mutate(unit_count = dplyr::if_else(is.na(unit_count), 1, unit_count)) %>%
  dplyr::group_by(country, year, tek) %>%
  dplyr::summarize(unit_count = sum(unit_count)) %>%
  dplyr::ungroup() %>%
  dplyr::mutate(unit_count = dplyr::if_else(unit_count > 0, 1, 0)) %>%
  dplyr::group_by(country, year) %>%
  tidyr::spread(key = tek, value = unit_count) %>%
  dplyr::ungroup() %>%
  dplyr::filter(year == 1994) %>%
  dplyr::select(-year) %>%
  dplyr::filter(!is.na(country)) %>%
  dplyr::mutate(country = stringr::str_to_title(country)) %>%
  tibble::column_to_rownames(var = "country") %>%
  janitor::remove_empty(which = "cols")

km <- factoextra::eclust(rdmc_dummy,
                         "kmeans",
                         seed = 2021,
                         nstart = 25,
                         graph = FALSE)

kmeans <- factoextra::fviz_cluster(km,
                         geom = "point",
                         point = 1,
#                         ellipse.type = "confidence",
                         main = "",
                         palette = "Dark2",
                         ggtheme = theme_bw(),
                         data = iiss_dummy) +
  theme(legend.position = "bottom")

# PCA dimensionality reductions
pca <- prcomp(rdmc_dummy, scale = FALSE)

# Coordinates of individuals
ind.coord <- as.data.frame(factoextra::get_pca_ind(pca)$coord)

# Add clusters obtained using the K-means algorithm
ind.coord$cluster <- factor(km$cluster)

# Add Species groups from the original data set
ind.coord$name <- rownames(ind.coord)

# Variance explained by each dimensions
eigenvalue <- round(factoextra::get_eigenvalue(pca), 1)
variance.percent <- eigenvalue$variance.percent

clusters <- ind.coord

# clusters$name <- countrycode::countrycode(clusters$states, "cowc", "country.name")

# Fix some country names manually
clusters$name[clusters$name == "Us"] <- "USA"
clusters$name[clusters$name == "United Kingdom"] <- "UK"
clusters$name[clusters$name == "Congo - Kinshasa"] <- "Democratic Republic of the Congo"
clusters$name[clusters$name == "Congo - Brazzaville"] <- "Republic of Congo"
clusters$name[clusters$name == "Czechia"] <- "Czech Republic"

## Make map
WorldData <- map_data('world')

theme_map <- function(base_size = 9, base_family = "") {
  theme_bw(base_size = base_size, base_family = base_family)
    theme(axis.line = element_blank(),
          axis.text = element_blank(),
          axis.ticks = element_blank(),
          axis.title = element_blank(),
          panel.background = element_blank(),
          panel.border = element_blank(),
          panel.grid = element_blank(),
          panel.spacing = unit(0, "lines"),
          plot.background = element_blank(),
          legend.justification = c(0, 0)#,
          #legend.position = c(1,1)
          )
}

kmap <- ggplot() +
  geom_map(data = WorldData,
           map = WorldData,
           aes(group = group,
               map_id = region),
           fill = "white",
           size = 0.35) +
  geom_map(data = clusters,
           map = WorldData,
           aes(fill = cluster,
               map_id = name)) +
  scale_fill_brewer(palette = "Dark2") +
  borders("world",
          size = 0.05,
          colour = "black") +
  theme_map() +
  coord_cartesian(ylim = c(-50, 90)) +
  theme(legend.position = "none") +
  labs(title = "",
       fill = "Cluster")

ggpubr::ggarrange(kmeans, kmap,
                  ncol = 1,
                  nrow = 2) %>%
  ggpubr::annotate_figure(fig.lab = "Clusters of Countries with Similar Military Portfolios (1994)",
                          fig.lab.size = 14)
```

Cautioning that Figure \ref{fig-country-clusters} is a simplified example (a single year using binary values), the results nonetheless demonstrate the utility of rDMC for identifying similarity in defense portfolios and generating testable hypotheses concerning the relationship between military composition and technological capacity, geography, threat environment, and conflict history. The fact there are differences in how even similarly-sized states arm themselves is prima facie evidence of the non-fungibility of material military power.

## Validation and Application: US and China Polarity

To validate the accuracy of the data as well as demonstrate how these data can advance existing scholarship, I use rDMC to replicate and temporally expand some of the key findings in @brooks_risefallgreat_2016 concerning the US-China balance of power. They argue that the distribution of military capabilities provides evidence that "the United States will long remain the only state with the capability to be a superpower" (p 8) and China's military advancements have been and will remain slow, ensuring the United States retains a greater military advantage than superpowers have had in previous power transitions. This has remained a topic of great debate, with many scholars agreeing that China is unlikely to militarily match the United States [@beckley_emergingmilitarybalance_2017; @gilli_whychinahas_2019] and others taking a more pessimistic view that China's military rise is rapid and threatens US interests [@johnston_hownewassertive_2013; @mastanduno_partnerpoliticsrussia_2019].

In measuring the distribution of power and identifying what makes a state a superpower, @brooks_risefallgreat_2016 argue that the three material components are military, economic, and technological capacity. In measuring military capacity, they recognize the shortfalls of aggregate measures like military spending and thus disaggregate @posen_commandcommonsmilitary_2003's four categories for "command of the commons" and situate the main elements of power projection-capable military capacity in command of the sea (nuclear powered submarines, aircraft carriers, cruisers and destroyers, and principal amphibious ships), command of space (operating satellites and military satellites), command of the air (heavy unpiloted aerial vehicles, 4th generation tactical aircraft, 5th generation tactical aircraft, and attack helicopters) and infrastructure of command (airborne early warming and control, tanker and tanker/transport aircraft, heavy and medium transport helicopters, and heavy and medium transport aircraft).

```{r replication-prep}
# Use rdmc_long for command of the commons capabilities that match
commons_long <- rdmc_long %>%
  dplyr::mutate(commons = dplyr::if_else(tek == "principal surface combatants_aircraft carrier",
                                         "sea_aircraft-carriers",
                                         NA),
                commons = dplyr::if_else(tek %in% c("principal surface combatants_cruisers",
                                                    "principal surface combatants_destroyers"),
                                         "sea_cruisers-and-destroyers",
                                         commons),
                commons = dplyr::if_else(tek %in% c("amphibious_landing craft",
                                                    "amphibious_landing ship"),
                                         "sea_principal-amphibious-ships",
                                         commons),
                commons = dplyr::if_else(tek == "helicopters_attack",
                                         "air_attack-helicopters",
                                         commons),
                commons = dplyr::if_else(tek %in% c("radars_communications",
                                                    "radars_environmental",
                                                    "radars_navigation"),
                                         "space_operating-satellites",
                                         commons),
                commons = dplyr::if_else(tek %in% c("radars_air defense/early warning",
                                                    "radars_fire control",
                                                    "radars_ISR/battlefield surveil"),
                                         "space_military-satellites",
                                         commons),
                commons = dplyr::if_else(tek == "aircraft_aew",
                                         "infrastructure_airborne-ew-and-control",
                                         commons),
                commons = dplyr::if_else(tek == "aircraft_tanker",
                                         "infrastructure_tankers",
                                         commons)) %>%
  dplyr::filter((!is.na(commons))) %>%
  dplyr::select(year, ccode, commons, unit_count) %>%
  dplyr::group_by(year, ccode, commons) %>%
  dplyr::summarise(count = sum(unit_count, na.rm = TRUE)) %>%
  dplyr::mutate(ccode = as.character(ccode))

# Use rdmc_raw for those that don't match
commons_raw <- rdmc_raw %>%
  dplyr::select(year, country, ccode, dplyr::starts_with("equipment_"), dplyr::starts_with("unit_")) %>%
  dplyr::mutate(commons = ifelse(equipment_type == "submarines" &
                                           stringr::str_ends(equipment_name, "N"),
                                         "sea_nuclear-powered-submarines",
                                         NA),
                commons = dplyr::if_else(equipment_type == "unmanned aerial vehicles" &
                                           equipment_subname == "heavy",
                                         "air_heavy-uavs",
                                         commons),
                commons = ifelse(equipment_type == "aircraft" &
                                           stringr::str_detect(equipment_name, "TPT") &
                                           equipment_subname %in% c("heavy",
                                                                    "light/medium",
                                                                    "medium-range",
                                                                    "mediumandlongrangepassenger"),
                                         "infrastructure_heavy/ medium-transport-aircraft",
                                         commons),
                commons = ifelse(equipment_type == "helicopters" &
                                           stringr::str_detect(equipment_name, "TPT") &
                                           equipment_subname %in% c("medium",
                                                                    "heavy"),
                                         "infrastructure_heavy/ medium-transport-helicopters",
                                         commons)) %>%
  dplyr::filter(!is.na(commons)) %>%
  dplyr::select(year, ccode, commons, unit_count) %>%
  dplyr::group_by(year, ccode, commons) %>%
  dplyr::summarise(count = sum(unit_count, na.rm = TRUE))

# Aircraft are coded as 4th and 5th gen separately
rdmc_aircraft <- googlesheets4::read_sheet(ss = "https://docs.google.com/spreadsheets/d/1yf-dGAiicIGNScouedvOCET4s34GGl3OelXrgOPWq8g/edit?usp=sharing",
                                    sheet = "iiss_aircraft")

commons_aircraft <- dplyr::left_join(rdmc_raw, rdmc_aircraft) %>%
  dplyr::filter(!is.na(commons)) %>%
  dplyr::select(year, ccode, commons, unit_count) %>%
  dplyr::group_by(year, ccode, commons) %>%
  dplyr::summarise(count = sum(unit_count, na.rm = TRUE))

# Combine them all
commons_all <- rbind(commons_long,
                     commons_raw,
                     commons_aircraft)

# merge country names
names <- rdmc_long %>%
  dplyr::select(year, country, ccode) %>%
  dplyr::distinct() %>%
  dplyr::mutate(ccode = as.character(ccode))

commons_all <- dplyr::left_join(commons_all, names)
```

To validate our data, Figure \ref{fig-china-static} shows, as a share of six great powers, how much of each of the command of the commons capabilities the US and China each possess.[^12] The results are virtually identical to Figure 2 in @brooks_risefallgreat_2016, finding the United States has a sizable lead over China in virtually every category. The only difference in replication beyond a rounding error concerns the relative share of 4th generation fighter aircraft where they find the US to have 55% of the great powers' share whereas rDMC calculates it at 21%.[^13]

[^12]: The six great powers they consider are the United States, China, France, Russia, Great Britain, and India.

[^13]: The discrepancy stems from the count of Russia's 4th generation aircraft; rDMC records a higher number, although Brooks and Wohlforth's count for the other great powers is not provided so this is conjecture. rDMC's counts were double checked relative to the original IISS data and the coding of aircraft considered 4th generation verified using Jane's Yearbook.

```{r}
#| label: fig-china-static
#| fig-cap: "Replication of Figure 2 in Brooks and Wohlforth (2016) as data validation. rDMC produces an almost identical comparison between US and China military capabilities, with the exception of 4th generation fighter aircraft."
#| fig-pos: 'H'
#| fig-height: 9.5
#| fig-width: 8

commons_all %>%
  dplyr::filter(country %in% c("us",
                               "china",
                               "france",
                               "russia",
                               "soviet union",
                               "united kingdom",
                               "india")) %>%
  dplyr::group_by(year, commons) %>%
  dplyr::mutate(share = round(count/sum(count, na.rm = TRUE), 2)) %>%
  dplyr::ungroup() %>%
  tidyr::complete(year, country, commons,
                  fill = list(share = 0)) %>%
  dplyr::mutate(commons = stringr::str_replace(commons, "_", ": "),
                commons = stringr::str_replace_all(commons, "-", " ")) %>%
#  tidyr::separate(commons, sep = "_", into = c("domain", "capability")) %>%
  dplyr::filter(year == 2013 &
                  country %in% c("us",
                                 "china")) %>%
  dplyr::select(country, commons, share) %>%
  dplyr::mutate(country = dplyr::recode(country,
                                        us = "United States",
                                        china = "China")) %>%
  dplyr::mutate(commons = factor(commons),
                commons = forcats::fct_relevel(commons,
                                               c("sea: nuclear powered submarines",
                                                 "sea: aircraft carriers",
                                                 "sea: cruisers and destroyers",
                                                 "sea: principal amphibious ships",
                                                 "air: heavy uavs",
                                                 "air: 4th generation tactical aircraft",
                                                 "air: 5th generation tactical aircraft",
                                                 "air: attack helicopters",
                                                 "space: operating satellites",
                                                 "space: military satellites",
                                                 "infrastructure: airborne ew and control",
                                                 "infrastructure: tankers",
                                                 "infrastructure: heavy/ medium transport helicopters",
                                                 "infrastructure: heavy/ medium transport aircraft"))) %>%
  ggplot(aes(x = commons, 
             y = share, 
             fill = country)) +
  geom_bar(position = "dodge",
           stat = "identity") +
  geom_text(aes(label = scales::percent(share,
                                        accuracy = 1L),
                group = country),
            position = position_dodge(width = .9),
            hjust = -0.2) +
  scale_y_continuous(labels = scales::percent_format(),
                     breaks = seq(0, 1, 0.25),
                     position = "right",
                     expand = c(0, 0),
                     limits = c(0, 1.15)) +
  scale_x_discrete(labels = scales::wrap_format(28),
                   limits = rev) +
  coord_flip() +
  theme_bw() +
  scale_fill_brewer(palette = "Set1") +
  theme(text = element_text(size = 14),
        plot.subtitle = element_markdown(),
        legend.position = "none",
        axis.title.x = element_blank(),
        axis.title.y = element_blank()) +
  labs(title = "Command of the Commons",
       subtitle = "<span style = 'color: #377EB8;'><b>US</b></span> and <span style = 'color: #E41A1C;'><b>China</b></span> as Percentages of Six Major Powers (2013)")
```

However, the claim that the military gap between the US and China is "unprecedented in modern international relations" cannot be established from a single-year snapshot [@brooks_risefallgreat_2016, 22]. Figure \ref{fig-china-timeseries} traces the temporal changes in US and China command of the commons capabilities from 1991-2014. Contrary to the claim that China's military advancements have been slow, changes in the capability gap in some cases appear fast, in others slow, and in others reverses. While the US lead in infrastructure of command and command of the sea is as high as at any point in the post-Cold War era, the space gap has narrowed significantly and US lead in air capabilities appears to be declining due to China's recent heavy UAV and 4th generation fighter aircraft developments. Since China's J-20 5th generation fighter aircraft did not hit low-rate initial production (LRIP) until 2015, the dip in US dominance in command of the air precipitated by Chinese heavy UAV development is likely to continue rather than reverse [@heath_plachinarejuvenation_2016].[^14]

[^14]: An auxiliary supplement of rDMC extending the data to 2021 for China, Japan, Taiwan, South Korea, and Australia confirms this trend continues (redacted).

This exercise validates the accuracy of rDMC relative to another reputable source and demonstrates its contribution to important international relations debates. Far from the last word on the balance of capabilities across great powers, the data nonetheless suggest the military capabilities gap between the United States and China may be narrowing, not widening, over time and that the gap varies across capabilities. Whether this gap matters is another question, but one whose answer is better informed by proper measurement of its extent. Chinese innovation in satellites, radar, and air defense [@biddle_futurewarfarewestern_2016; @erickson_correspondencehowgood_2017] has different implications for the US and regional stability than their advancement in naval capabilities [@cunningham_maritimerungescalation_2020] or in drones [@zegart_cheapfightscredible_2018; @lin-greenberg_wargamedronesremotely_2022]. Using rDMC, these differences can be better identified and explained.

```{r}
#| label: fig-china-timeseries
#| fig-cap: "Positive (negative) y-axis values mean the US (China) has a higher share as a percent of six great powers. The dark lines represent the average for that common."
#| fig-pos: 'H'
#| fig-height: 9.5
#| fig-width: 8

# Countries are US, China, Russia, France, GB, India, but in Table 1 on mil spending they include a bunch of other powers (US, China, Japan*, Germany*, Russia, France, Britain, India, Brazil*)

commons_all %>%
  dplyr::filter(country %in% c("us",
                               "china",
                               "france",
                               "russia",
                               "united kingdom",
                               "india")) %>%
  dplyr::group_by(year, commons) %>%
  dplyr::mutate(share = round(count/sum(count, na.rm = TRUE), 2)) %>%
  dplyr::ungroup() %>%
  tidyr::complete(year, country, commons,
                  fill = list(share = 0)) %>%
  dplyr::mutate(commons = stringr::str_replace(commons, "_", ": "),
                commons = stringr::str_replace_all(commons, "-", " ")) %>%
  dplyr::filter(year >= 1989 &
                  country %in% c("us",
                               "china")) %>%
  dplyr::select(year, country, commons, share) %>%
  dplyr::group_by(year, commons) %>%
  tidyr::pivot_wider(names_from = country,
                     values_from = share) %>%
  dplyr::summarise(gap = us - china) %>%
  dplyr::ungroup() %>%
  tidyr::separate(commons, sep = ": ", into = c("domain", "capability")) %>%
  dplyr::mutate(domain = dplyr::recode(domain,
                                       satellites = "Space"),
                capability = dplyr::recode(capability,
                                           'nuclear powered submarines' = "Submarines",
                                           'aircraft carriers' = "Carriers",
                                           'cruisers and destroyers' = "Cruisers/Destroyers",
                                           'principal amphibious ships'= "Amphib",
                                           'heavy uavs' = "UAVs",
                                           '4th generation tactical aircraft' = "4th gen fighters",
                                           '5th generation tactical aircraft' = "5th gen fighters",
                                           'attack helicopters' = "Attack Helicopters",
                                           'operating satellites' = "Operating",
                                           'military satellites' = "Military",
                                           'airborne ew and control' = "AEW&C",
                                           'tankers' = "Tankers",
                                           'heavy/ medium transport helicopters' = "Transport Helicopters",
                                           'heavy/ medium transport aircraft' = "Transport Aircraft")) %>%
  dplyr::mutate(domain = stringr::str_to_title(domain),
                label = dplyr::if_else(year == max(year),
                                       as.character(capability),
                                       NA_character_)) %>%
  ggplot(aes(x = year,
             y = gap,
             fill = capability)) +
  geom_vline(xintercept = seq(1989, 2014, by = 5),
             color = "grey91", 
             size = .6) +
  geom_smooth(method = "loess",
              color = "deepskyblue",
              se = FALSE,
              linewidth = 0.5) +
  ggrepel::geom_text_repel(aes(label = label),
                           nudge_x = 0.1,
                           xlim = c(2014, NA),
                           hjust = 0,
                           segment.size = .7,
                           segment.alpha = .5,
                           segment.linetype = "dotted",
                           box.padding = .4,
                           segment.curvature = -0.1,
                           segment.ncp = 3,
                           segment.angle = 20) +
#  geomtextpath::geom_textsmooth(hjust = 0.6, method = "loess", color = "deepskyblue") +
  geom_smooth(aes(group = domain),
              method = "loess",
              color = "deepskyblue4") +
  geomtextpath::geom_textsegment(x = 1989,
                                 y = 0,
                                 xend = 2014,
                                 yend = 0,
                                 label = "Parity", 
                                 linetype = 2,
                                 size = 3) +
  coord_cartesian(clip = "off") +
  scale_x_continuous(expand = c(0, 0),
                     breaks = seq(1989, 2014, 5),
                     limits = c(1989, 2020)) +
  scale_y_continuous(labels = scales::percent_format(),
                     breaks = seq(-1, 1, 0.5),
                     expand = c(0, 0),
                     limits = c(-0.5, 1.2)) +
  theme_minimal() +
  facet_wrap(~ domain,
             ncol = 1) +
  theme(text = element_text(size = 14),
        legend.position = "none",
        axis.title.x = element_blank(),
        strip.text = ggtext::element_textbox(color = "white",
                                             fill = "deepskyblue4",
                                             box.color = "deepskyblue4",
                                             halign = 0.5,
                                             linetype = 1,
                                             r = unit(5, "pt"),
#                                             minwidth = unit(5, "in"),
                                             width = unit(0.2, "npc"),
                                             padding = margin(2, 0, 1, 0),
                                             margin = margin(3, 3, 3, 3)),
#        strip.text = element_text(hjust = 0.4, face = "bold", fill = "gray"),
        panel.spacing.x = unit(2, "lines"),
        plot.margin = margin(10, 40, 10, 10),
        panel.grid = element_blank(),
        panel.spacing.y = unit(01, "line")) +
  labs(title = "US-China Capabilities Gap Varies",
       y = "US vs China Share")
```

# Conclusion {#sec-conclusion}

This paper introduced version 1.0 of a dataset that has demonstrated value in helping us understand how states fight; efforts are already underway to expand the data temporally (pre-1970 and post-2014), increase the ease of using *raw rDMC* by standardizing unit names, and diversify original source material beyond the Military Balance. Even still, *rDMC* can help the discussion about military technology productively shift from *whether* it matters to *what* technologies matter and *how*. Understanding differences in the composition of military capabilities is vital to understanding military power precisely because these components are not homogeneous. Identifying the dimensions of this heterogeneity is a necessary precondition for explaining why states develop the weapons portfolio that they do as well as the consequences of armament decisions. The composition of military assets, rather than the defense dollars spent, are what truly matter for how well states deal with threats to their security. Military spending itself does not create military power. Rather, that money must be translated into capabilities that allow for the exercise of power through a variety of distinct means.

To date, explanations of the causes or effects of variation in the composition of a state's military assets has been empirically limited because that data has not existed in a form conducive to systematic analysis. As an easier to use and more structured disaggregated dataset on the military capabilities states possessed over the past half century, *rDMC* can help the broader scholarly community better explain how states arm, why, and to what effect.

\newpage

# References
